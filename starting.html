
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>Quick Start &#8212; P4P 4.2.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="_static/graphviz.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/sphinx_highlight.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Overview" href="overview.html" />
    <link rel="prev" title="PVAccess for Python (P4P)" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="quick-start">
<span id="starting"></span><h1>Quick Start<a class="headerlink" href="#quick-start" title="Permalink to this heading">¶</a></h1>
<p>For testing and evaluation, it is recommended to install from pypi.org into a (disposable) virtualenv.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">virtualenv</span> <span class="n">p4ptest</span>
<span class="o">.</span> <span class="n">p4ptest</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">activate</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">pip</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">pip</span> <span class="n">install</span> <span class="n">p4p</span> <span class="n">nose2</span>
<span class="n">python</span> <span class="o">-</span><span class="n">m</span> <span class="n">nose2</span> <span class="n">p4p</span>   <span class="c1"># Optional: runs automatic tests</span>
</pre></div>
</div>
<p>With this complete, open three terminal instances.
One to run a PVA client, and two more to run PVA clients.
In the first run a PVA server.  Feel free to replace ‘my:pv:name’
with an arbitrary name string everywhere it occurs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ . p4ptest/bin/activate
$ python -m p4p.server.cli my:pv:name=int
...
INFO:p4p.server:Running server
</pre></div>
</div>
<p>In a second terminal run the following. If successful, the last line will end with a zero value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ . p4ptest/bin/activate
$ python -m p4p.client.cli monitor my:pv:name
...
my:pv:name Mon Jul  9 19:24:01 2018 0L
</pre></div>
</div>
<p>And finally, in a third terminal run the following.  If successful, the second terminal should show the new value.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ . p4ptest/bin/activate
$ python -m p4p.client.cli put my:pv:name=5
my:pv:name=5
</pre></div>
</div>
<p>Alternately, using the <a class="reference internal" href="client.html#clientapi"><span class="std std-ref">Client API</span></a>.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">p4p.client.thread</span> <span class="kn">import</span> <span class="n">Context</span>
<span class="n">ctxt</span> <span class="o">=</span> <span class="n">Context</span><span class="p">(</span><span class="s1">&#39;pva&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ctxt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;my:pv:name&#39;</span><span class="p">))</span>
<span class="n">ctxt</span><span class="o">.</span><span class="n">put</span><span class="p">(</span><span class="s1">&#39;my:pv:name&#39;</span><span class="p">,</span> <span class="mi">6</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">ctxt</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;my:pv:name&#39;</span><span class="p">))</span>
</pre></div>
</div>
<section id="troubleshooting-network-issues">
<h2>Troubleshooting network issues<a class="headerlink" href="#troubleshooting-network-issues" title="Permalink to this heading">¶</a></h2>
<p>If the preceeding didn’t work as described, there is likely a networking problem.
Restart both server and client with an added argument ‘-d’.
Look for lines like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">...</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">27</span><span class="n">T17</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">44.164</span> <span class="n">Broadcast</span> <span class="n">address</span> <span class="c1">#0: 10.65.15.255:5076. (not unicast)</span>
<span class="mi">2018</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">27</span><span class="n">T17</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mf">44.164</span> <span class="n">Broadcast</span> <span class="n">address</span> <span class="c1">#1: 192.168.210.255:5076. (not unicast)</span>
<span class="o">...</span>
</pre></div>
</div>
<p>This indicates the two network interfaces were discovered on this host.
Localhost is not included by default.
If no interfaces are found, then check the system network configuration.
If interfaces are found, ensure that no firewalls are applied.</p>
<p>By default, both client and server must share at least one discovered
local broadcast address.</p>
<p>Non-default configuration involves the use of the $EPICS_PVA_ADDR_LIST
environment variable, or configuration options specifically passed
to conf= <a class="reference internal" href="client.html#p4p.client.thread.Context" title="p4p.client.thread.Context"><code class="xref any py py-class docutils literal notranslate"><span class="pre">p4p.client.thread.Context()</span></code></a>.  This is considered beyond the
scope of a “quick start”.</p>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">P4P</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quick Start</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#troubleshooting-network-issues">Troubleshooting network issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="building.html">Building</a></li>
<li class="toctree-l1"><a class="reference internal" href="client.html">Client API</a></li>
<li class="toctree-l1"><a class="reference internal" href="nt.html">Common Types</a></li>
<li class="toctree-l1"><a class="reference internal" href="values.html">Working with Value and Type</a></li>
<li class="toctree-l1"><a class="reference internal" href="server.html">Server API</a></li>
<li class="toctree-l1"><a class="reference internal" href="rpc.html">RPC Server Helpers</a></li>
<li class="toctree-l1"><a class="reference internal" href="internal.html">Internal API</a></li>
<li class="toctree-l1"><a class="reference internal" href="gw.html">PVA Gateway</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">PVAccess for Python (P4P)</a></li>
      <li>Next: <a href="overview.html" title="next chapter">Overview</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, Michael Davidsaver.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.3.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/starting.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>